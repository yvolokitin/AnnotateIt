# Google ML Kit Image Labeling in AnnotateIt

This document explains how to use Google ML Kit image labeling in AnnotateIt to automatically generate annotations for your images.

## Overview

Google ML Kit image labeling is a machine learning-based feature that can automatically detect and label objects, scenes, and activities in images. In AnnotateIt, this feature is integrated as an annotation mechanism that can help you quickly label images without manual annotation.

## Requirements

- The ML Kit image labeling feature requires an internet connection for the first use to download the ML model.
- For best results, use clear images with well-defined subjects.
- The feature works best with common objects, scenes, and activities that the ML model has been trained on.

## How to Use ML Kit Image Labeling

1. **Open an image for annotation**: Navigate to your project and open an image in the annotation view.

2. **Click the ML Kit button**: In the left toolbar, click the ML Kit button (represented by a magic wand icon). This will start the image labeling process.

3. **Wait for processing**: The image will be processed by ML Kit. This may take a few seconds depending on the image size and complexity.

4. **Review the results**: After processing, ML Kit will add annotations to your image based on what it detected. These annotations will be added as classification labels.

5. **Edit or delete annotations**: You can edit or delete any of the automatically generated annotations just like manually created ones.

## Important Notes

- ML Kit will only create annotations for labels that match your project's label set. If ML Kit detects an object but there's no matching label in your project, that detection will be ignored.
- The confidence threshold for ML Kit is set to 0.6 (60%) by default. This means only detections with at least 60% confidence will be included.
- All ML Kit annotations are marked with "Generated by Google ML Kit" in the comment field and have an "auto_generated" status to distinguish them from manual annotations.

## Best Practices

1. **Prepare your label set**: Before using ML Kit, make sure your project includes labels for common objects you expect to find in your images. For example, if you're annotating street scenes, include labels like "car", "person", "traffic light", etc.

2. **Use as a starting point**: ML Kit is best used as a starting point for annotation, not as a complete solution. Always review and refine the automatically generated annotations.

3. **Combine with manual annotation**: For best results, use ML Kit to quickly label common objects, then manually annotate more specific or domain-specific elements.

## Troubleshooting

- **No labels detected**: If ML Kit doesn't detect any labels, try using a clearer image or one with more common objects.
- **No matching labels**: If ML Kit detects objects but none match your project labels, add more common labels to your project.
- **Processing errors**: If you encounter errors during processing, check your internet connection and try again.

## Technical Details

The ML Kit image labeling feature uses Google's on-device ML Kit API to process images. The model can recognize over 400 different categories including objects, activities, animals, plants, and places.

The integration in AnnotateIt converts ML Kit's detections into classification annotations that are compatible with the existing annotation system.